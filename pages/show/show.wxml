<navbar />

<view class="top-margin"> </view>

<view class="space-container">
  <view class="favorite-container"> 
    <image src="{{space.image}}" mode="aspectFill"></image>
    <view wx:if="{{space.favorited === true}}" class="heart-icon" bindtap="favorite_toggle">
    <image src="/image/heart-fill.svg" ></image>
    </view>
    <view wx:if="{{space.favorited === false}}" class="heart-icon">
    <image src="/image/heart.svg" bindtap="favorite_toggle" ></image>
    </view>
  </view>
  <view class="space-info">
    <view>
      <view class="map-flex">
        <view>
          <text class="bold-font space_name">{{space.name}}</text>
          <text class="space-text" >{{space.address}}</text>
        </view>
        <view>
          <image bindtap="goToMap" src="/image/map.svg" class="map-icon"></image>
          <view>{{distance}} km</view>
        </view>
      </view>
      <view class="features-text">
        <text class="feature">{{space.category}}</text>
        <text wx:if="{{space.category === 'Restaurant'}}" class="feature-small" >{{space.sub_category}} </text>

        
        <!-- <text class="space-text">Dogs allowed: {{space.access}}</text> -->
        <block wx:for="{{space.features}}" wx:for-item="feature" wx:key="unique" class="access-feature">
          <text wx:if="{{feature === 'indoor'}}" class="feature">Indoors</text>
          <text wx:if="{{feature === 'outdoor'}}" class="feature">Outdoors
          </text>
          <text wx:if="{{feature === 'dog_bowl'}}" class="feature">Water provided
          </text>
          <text wx:if="{{feature === 'dog_food'}}" class="feature">Food provided
          </text>
        </block>
      </view>
    </view>
    
</view>

</view>

<!-- <view wx:if="{{space.review_avg >= 3}}">I am bigger than 3!</view>
<view wx:if="{{space.review_avg <= 3}}">I am less than 3!</view> -->


<text class="horizontal-line"></text>

<view wx:if="{{space.review_count > 0}}">
<view class="review-container">
  <view class="review-top">
    <text class="bold-font">Reviews</text>
    
  </view>
  <view class="review-preview">
    <image src="/image/dog.svg" class="review-img"></image>
    <view class="review-text">
      <text class="review-name">Shanghai Dog</text>
      <text class="review-date">{{space.featured_review.date}}</text>
      <text class="review-date">Paw-friendly rating: {{space.featured_review.rating}}/5</text>
      
      <text class="review-comment">"{{space.featured_review.comment}}"</text>
      <view class="read-btn">
      <view class="yellow-btn" bindtap="seeAllReviews" data-id="{{space.id}}">Read
      More</view>
  </view>

   
    
  </view>
  <image  class="add-review" src="/image/plus-select.png" bindtap="addReview" data-id="{{space.id}}"></image>
 
   
  </view>
  
</view>
</view>

<view wx:if="{{space.review_count === 0}}">
  <view class="review-container">
    <text class="bold-font">Reviews</text>
    <text>Be the first to leave a paw of approval for {{space.name}}.</text>
    
      <image class="first-review" src="/image/plus-select.png" bindtap="addReview" data-id="{{space.id}}"></image>
    
  </view>
</view>

<text class="horizontal-line"></text>

<view class="rec-container">
  <text class="bold-font">Other Recommendations</text>
  <view wx:for="{{space.recommended_spaces}}" wx:for-item="space" bindtap="goToSpace" data-id="{{space.id}}" class="card-product" wx:key="unique">
  <image src="{{ space.image }}" class="space-img" mode="aspectFill">
  </image>
  <view class="name-container">
    
    <view class="card-product-infos">
    <view>
      <view class="h2">{{space.name}}</view>
      
      <view class="p">{{space.address}}</view>
    </view>
      <view class="features-text-small">
          <text class="feature-small">{{space.category}}</text>
          <text wx:if="{{space.sub_category !== null}}" class="feature-small" >{{space.sub_category}}</text>
          <!-- <text wx:if="{{space.category === 'Food' || 'restaurant'}}" class="feature-small" >{{space.sub_category}} </text> -->

          <!-- <text class="space-text">Dogs allowed: {{space.access}}</text> -->
          <view class= "access-feature" wx:for="{{space.features}}" wx:for-item="feature" wx:key="unique">
            <text wx:if="{{feature === 'indoor'}}" class="feature-small">Indoors</text>
            <text wx:if="{{feature === 'outdoor'}}" class="feature-small">Outdoors
            </text>

          </view>
        </view>
      <!-- <view class="p">{{space.features}}</view> -->
  </view>
</view>
</view>

</view>

<view class="bottom-margin"> </view>




